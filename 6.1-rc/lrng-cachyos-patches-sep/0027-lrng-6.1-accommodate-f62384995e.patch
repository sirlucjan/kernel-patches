From bd1914bee7e5b69eba8d14ceca0c6142234f327f Mon Sep 17 00:00:00 2001
From: Oleksandr Natalenko <oleksandr@natalenko.name>
Date: Mon, 17 Oct 2022 20:34:44 +0200
Subject: [PATCH 27/30] lrng-6.1: accommodate f62384995e

Signed-off-by: Oleksandr Natalenko <oleksandr@natalenko.name>
---
 drivers/char/lrng/lrng_interface_random_kernel.c | 5 ++---
 1 file changed, 2 insertions(+), 3 deletions(-)

diff --git a/drivers/char/lrng/lrng_interface_random_kernel.c b/drivers/char/lrng/lrng_interface_random_kernel.c
index 471390b..51b75ea 100644
--- a/drivers/char/lrng/lrng_interface_random_kernel.c
+++ b/drivers/char/lrng/lrng_interface_random_kernel.c
@@ -30,12 +30,11 @@ static int __init lrng_parse_trust_bootloader(char *arg)
 }
 early_param("random.trust_bootloader", lrng_parse_trust_bootloader);
 
-int __init random_init(const char *command_line)
+void __init random_init_early(const char *command_line)
 {
-	int ret = lrng_rand_initialize();
+	lrng_rand_initialize();
 
 	lrng_pool_insert_aux(command_line, strlen(command_line), 0);
-	return ret;
 }
 
 /************************ LRNG kernel input interfaces ************************/
-- 
2.38.0.rc1.6.g4fd6c5e444

